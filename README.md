# LabAnalysisTracker_Course_work
## Описание проекта
Название: Программное средство для отслеживания результатов обработки анализов частной лаборатории. 
Цель: Разработать приложение на C#, которое позволяет частной лаборатории управлять процессом обработки анализов, генерировать QR-коды для отслеживания статуса, моделировать случайные результаты и учитывать временные факторы, такие как рабочие дни и вероятность задержек. 
Область применения: Частные медицинские лаборатории, где пациенты могут отслеживать статус своих анализов через QR-коды, а сотрудники лаборатории — управлять процессом обработки. 
Технологии: C#, библиотека QRCoder для генерации QR-кодов.

## Автор
Имя: Коваленко Александр Александрович
Группа: 353504

## Диаграмма классов
1. Класс TestSample (Пробирка/Анализ)
   Поля:
   - Id: string
   - ReceivedDate: DateTime
   - ExpectedCompletionDate: DateTime
   - Status: string
   - Result: string
   - QRCodeData: string
   Методы:
   + TestSample(id: string, receivedDate: DateTime, daysToComplete: int)
   + GenerateQRCode(): string

2. Класс ResultGenerator (Генератор результатов)
   Поля:
   - rand: Random
   Методы:
   + GenerateResult(): string

3. Класс TimeManager (Менеджер времени)
   Поля:
   + CurrentTime: DateTime (свойство, возвращает DateTime.Now)
   Методы:
   + CalculateCompletionProbability(expectedDate: DateTime): double
   + IsWorkingDay(): bool
   + SkipTime(days: int): void

4. Класс Laboratory (Лаборатория)
   Поля:
   - Samples: List<TestSample>
   Методы:
   + AddSample(sample: TestSample): void
   + GetSampleById(id: string): TestSample
   + UpdateAllSamples(): void

Связи между классами:
- Laboratory -> TestSample: Композиция (один ко многим, Laboratory содержит список TestSample)
- TestSample -> ResultGenerator: Ассоциация (TestSample использует ResultGenerator для генерации результата)
- TestSample -> TimeManager: Ассоциация (TestSample использует TimeManager для проверки времени и вероятности готовности)


## Список функций
1. Добавление анализа: 
   Позволяет сотруднику лаборатории добавить новый анализ с указанием ID, даты приёма и ожидаемой даты завершения. 
2. Генерация QR-кода: 
   Для каждого анализа создаётся QR-код, содержащий ID и текущий статус. Пациент может отсканировать код, чтобы узнать статус. 
3. Мониторинг статуса анализов: 
   Система автоматически обновляет статус анализов ("InProgress", "Completed", "Delayed") на основе времени и вероятности готовности. 
4. Генерация случайных результатов: 
   После завершения анализа генерируется случайный результат: "Normal" (80%), "MinorDeviation" (15%), "Critical" (5%). 
5. Учёт рабочих дней и времени работы: 
   Система учитывает, что лаборатория работает только в будние дни (Пн–Пт), и не обновляет статус в выходные, а также ночью и в обед. 
6. Пропуск времени: 
   Для тестирования можно "перемотать" время вперёд, чтобы симулировать процесс обработки анализов. 
7. Просмотр статуса по QR-коду: 
   Сотрудник или пациент может ввести ID или отсканировать QR-код, чтобы узнать текущий статус и результат анализа (если готов).

## Модели данных
Основная модель данных — класс TestSample: 
- Id: Уникальный идентификатор анализа (string). 
- ReceivedDate: Дата и время приёма анализа (DateTime). 
- ExpectedCompletionDate: Ожидаемая дата завершения анализа (DateTime). 
- Status: Текущий статус ("InProgress", "Completed", "Delayed"). 
- Result: Результат анализа, если он готов ("Normal", "MinorDeviation", "Critical"). 
- QRCodeData: Строка с данными QR-кода (например, "TestID:001|Status:InProgress"). 

Список анализов хранится в классе Laboratory в виде List<TestSample>. Время обрабатывается через TimeManager, который использует системное время (DateTime.Now).
